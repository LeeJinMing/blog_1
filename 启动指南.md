# 赚钱指南博客 - 启动指南

## 🚀 快速开始

这是一个现代化的赚钱指南博客前端，用于展示您数据库中的文章内容。

### 前置要求

- Node.js 18+ 
- npm 或 yarn
- MongoDB 数据库（可选：已有的文章数据库）

### 1. 安装项目

```bash
# 进入项目目录
cd blog2

# 安装依赖
npm install
```

### 2. 配置环境变量

```bash
# 复制环境变量模板
cp env.example .env.local

# 编辑环境变量文件
nano .env.local
```

修改 `.env.local` 文件中的配置：

```env
# 必填：数据库连接
MONGODB_URI=mongodb://localhost:27017/your-database-name

# 必填：API 地址（如果您有后端API）
NEXT_PUBLIC_API_URL=http://localhost:3001/api

# 必填：网站配置
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_SITE_NAME=赚钱指南
```

### 3. 运行开发服务器

```bash
npm run dev
```

打开浏览器访问：http://localhost:3000

### 4. 构建生产版本

```bash
# 构建
npm run build

# 启动生产服务器
npm start
```

## 📊 数据库集成

### 文章数据结构

如果您需要连接现有数据库，请确保文章数据结构类似：

```javascript
{
  _id: ObjectId,
  title: "文章标题",
  content: "文章内容（Markdown格式）",
  excerpt: "文章摘要",
  category: "分类名称",
  tags: ["标签1", "标签2"],
  publishedAt: Date,
  updatedAt: Date,
  author: "作者",
  views: 0,
  featured: false,
  seo: {
    metaTitle: "SEO标题",
    metaDescription: "SEO描述",
    keywords: ["关键词1", "关键词2"]
  }
}
```

### 创建API路由

在 `src/app/api/` 目录下创建API路由：

```javascript
// src/app/api/articles/route.ts
import { NextResponse } from 'next/server'
import { connectDB } from '@/lib/db'

export async function GET() {
  try {
    const db = await connectDB()
    const articles = await db.collection('articles')
      .find({ published: true })
      .sort({ publishedAt: -1 })
      .limit(10)
      .toArray()
    
    return NextResponse.json(articles)
  } catch (error) {
    return NextResponse.json({ error: 'Failed to fetch articles' }, { status: 500 })
  }
}
```

## 🎨 自定义样式

### 修改主题色彩

编辑 `tailwind.config.js`：

```javascript
theme: {
  extend: {
    colors: {
      primary: {
        50: '#eff6ff',   // 浅色
        500: '#3b82f6',  // 主色
        900: '#1e3a8a',  // 深色
      }
    }
  }
}
```

### 添加自定义字体

在 `src/app/layout.tsx` 中：

```javascript
import { Inter, Custom_Font } from 'next/font/google'

const customFont = Custom_Font({
  subsets: ['latin'],
  variable: '--font-custom',
})
```

## 📝 内容管理

### 展示现有文章

项目目前使用模拟数据。要展示真实文章：

1. 修改 `src/components/FeaturedArticles.tsx`
2. 使用 SWR 或 fetch 从您的API获取数据
3. 替换模拟的 `featuredArticles` 数组

示例：

```javascript
import useSWR from 'swr'

export function FeaturedArticles() {
  const { data: articles, error } = useSWR('/api/articles', fetcher)
  
  if (error) return <div>加载失败</div>
  if (!articles) return <div>加载中...</div>
  
  return (
    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      {articles.map((article) => (
        <ArticleCard key={article._id} article={article} />
      ))}
    </div>
  )
}
```

### 创建文章详情页

在 `src/app/article/[slug]/page.tsx`：

```javascript
export default async function ArticlePage({ params }) {
  const article = await getArticleBySlug(params.slug)
  
  return (
    <article className="prose dark:prose-dark max-w-4xl mx-auto">
      <h1>{article.title}</h1>
      <div dangerouslySetInnerHTML={{ __html: article.content }} />
    </article>
  )
}
```

## 🔍 SEO 优化

### 自动生成 Sitemap

创建 `src/app/sitemap.ts`：

```javascript
export default async function sitemap() {
  const articles = await getAllArticles()
  
  return [
    {
      url: 'https://yoursite.com',
      lastModified: new Date(),
    },
    ...articles.map((article) => ({
      url: `https://yoursite.com/article/${article.slug}`,
      lastModified: article.updatedAt,
    }))
  ]
}
```

### 结构化数据

为文章页面添加 JSON-LD：

```javascript
const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'Article',
  headline: article.title,
  author: { '@type': 'Person', name: article.author },
  datePublished: article.publishedAt,
}
```

## 🚀 部署

### Vercel 部署（推荐）

1. 推送代码到 GitHub
2. 登录 Vercel.com
3. 导入 GitHub 仓库
4. 设置环境变量
5. 部署

### Docker 部署

创建 `Dockerfile`：

```dockerfile
FROM node:18-alpine
WORKDIR /app
COPY package*.json ./
RUN npm ci --only=production
COPY . .
RUN npm run build
EXPOSE 3000
CMD ["npm", "start"]
```

构建和运行：

```bash
docker build -t money-blog .
docker run -p 3000:3000 money-blog
```

## 🔧 故障排除

### 常见问题

1. **依赖安装失败**
   ```bash
   rm -rf node_modules package-lock.json
   npm install
   ```

2. **TypeScript 错误**
   - 确保安装了所有 @types 依赖
   - 检查 tsconfig.json 配置

3. **样式不生效**
   - 确认 Tailwind CSS 正确配置
   - 检查 globals.css 导入

4. **数据库连接失败**
   - 验证 MONGODB_URI 格式
   - 确保数据库服务运行中

### 性能优化

1. **图片优化**
   - 使用 Next.js Image 组件
   - 配置图片域名白名单

2. **代码分割**
   - 使用动态导入：`const Component = dynamic(() => import('./Component'))`

3. **缓存策略**
   - 配置适当的 Cache-Control 头
   - 使用 SWR 进行客户端缓存

## 📞 支持

如果遇到问题：

1. 检查本文档的故障排除部分
2. 查看 GitHub Issues
3. 创建新的 Issue 描述问题

## 🎯 下一步

- [ ] 连接您的文章数据库
- [ ] 自定义主题和样式
- [ ] 配置 SEO 设置
- [ ] 设置分析工具
- [ ] 部署到生产环境 